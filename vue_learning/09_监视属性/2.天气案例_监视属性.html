<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>9.2监视属性</title>
		<link rel="icon" href="../img/favicon.ico" type="image/x-icon" />
		<script type="text/javascript" src="../js/vue.js"></script>
		<style></style>
	</head>
	<body>
		<!--
			监视属性watch:
				1.当被监视的属性变化时，回调函数自动调用，进行相关操作
				2.监视的属性必须存在，才能进行监视！！
				3. 监视的两种写法：
					(1).new Vue时传入watch配置
					(2).通过vm.$watch监视
    -->
		<div id="root">
			<h2>今天天气很{{weatherInfo}}</h2>
			<br />
			<button @click="changeIsHot">点击改变天气</button>
		</div>
	</body>

	<script type="text/javascript">
		Vue.config.productionTip = false;

		const vm = new Vue({
			el: '#root',
			data: {
				isHot: true,
			},
			methods: {
				changeIsHot() {
					this.isHot = !this.isHot;
				},
			},
			computed: {
				weatherInfo() {
					return this.isHot ? '炎热' : '凉爽';
				},
			},
			/* watch: {
				isHot: {
					immediate: true, //初始化时调用handler
					// isHot属性发生修改时执行
					handler(newValue, oldValue) {
						console.log('isHot被修改了', newValue, oldValue);
					},
				},
			}, */
		});
		// watch另一种写法
		vm.$watch('isHot', {
			immediate: true, //初始化时调用handler
			// isHot属性发生修改时执行
			handler(newValue, oldValue) {
				console.log('isHot被修改了', newValue, oldValue);
			},
		});
	</script>
</html>
