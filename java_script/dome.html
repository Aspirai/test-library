<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>demo</title>
</head>

<style>
  .body {
    width: 100px;
    height: 100px;
    background-color: blue;
    position: absolute;
  }

  .body2 {
    width: 100px;
    height: 100px;
    background-color: green;
    position: absolute;
    top: 200px;
    left: 200px;
  }

  .body3 {
    width: 100px;
    height: 100px;
    background-color: red;
    position: absolute;
    top: 400px;
    left: 400px;
  }
</style>

<body>
  <text>hello</text>
  <div class="body" id="body"></div>
  <div class="body2"></div>
  <div class="body3"></div>
  <script>

    function drag(obj) {
      let offsetX, offsetY;
      const onMouseMove = (e) => {
        obj.style.left = e.clientX - offsetX + 'px';
        obj.style.top = e.clientY - offsetY + 'px';
      };

      obj.addEventListener('mousedown', (e) => {
        offsetX = e.clientX - obj.offsetLeft;
        offsetY = e.clientY - obj.offsetTop;
        document.addEventListener('mousemove', onMouseMove);
      });

      obj.addEventListener('mouseup', () => {
        document.removeEventListener('mousemove', onMouseMove);
      });
    }

    drag(document.getElementById('body'));
    drag(document.querySelector('.body2'));

    // addEventListener(event, function, useCapture)
    // removeEventListener(event, function, useCapture)
    document.querySelector('.body3').addEventListener('mousedown', (e) => {
      console.log('mousedown');
    });

    // return false;
  </script>
</body>

</html>
